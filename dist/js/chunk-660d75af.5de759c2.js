(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-660d75af"],{"1c04":function(t,e,a){},"1dde":function(t,e,a){var c=a("d039"),o=a("b622"),n=a("2d00"),r=o("species");t.exports=function(t){return n>=51||!c((function(){var e=[],a=e.constructor={};return a[r]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"3cc5":function(t,e,a){"use strict";a("1c04")},"5e9b":function(t,e,a){"use strict";a("7292")},"65f0":function(t,e,a){var c=a("861d"),o=a("e8b5"),n=a("b622"),r=n("species");t.exports=function(t,e){var a;return o(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!o(a.prototype)?c(a)&&(a=a[r],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},7292:function(t,e,a){},8418:function(t,e,a){"use strict";var c=a("c04e"),o=a("9bf2"),n=a("5c6c");t.exports=function(t,e,a){var r=c(e);r in t?o.f(t,r,n(0,a)):t[r]=a}},"99af":function(t,e,a){"use strict";var c=a("23e7"),o=a("d039"),n=a("e8b5"),r=a("861d"),s=a("7b0b"),i=a("50c4"),d=a("8418"),l=a("65f0"),b=a("1dde"),u=a("b622"),p=a("2d00"),f=u("isConcatSpreadable"),g=9007199254740991,v="Maximum allowed index exceeded",h=p>=51||!o((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),j=b("concat"),O=function(t){if(!r(t))return!1;var e=t[f];return void 0!==e?!!e:n(t)},m=!h||!j;c({target:"Array",proto:!0,forced:m},{concat:function(t){var e,a,c,o,n,r=s(this),b=l(r,0),u=0;for(e=-1,c=arguments.length;e<c;e++)if(n=-1===e?r:arguments[e],O(n)){if(o=i(n.length),u+o>g)throw TypeError(v);for(a=0;a<o;a++,u++)a in n&&d(b,u,n[a])}else{if(u>=g)throw TypeError(v);d(b,u++,n)}return b.length=u,b}})},"9b19":function(t,e,a){t.exports=a.p+"img/logo.d4612499.svg"},bb51:function(t,e,a){"use strict";a.r(e);var c=a("7a23");function o(t,e,a,o,n,r){var s=Object(c["resolveComponent"])("Navbar"),i=Object(c["resolveComponent"])("router-view"),d=Object(c["resolveComponent"])("Footer");return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[Object(c["createVNode"])(s),Object(c["createVNode"])(i),Object(c["createVNode"])(d)],64)}var n=a("9b19"),r=a.n(n),s={class:"navbar navbar-expand-lg sticky-top navbar-light bg-light py-3"},i={class:"container"},d={class:"me-auto"},l=Object(c["createVNode"])("img",{class:"logo",src:r.a,alt:"logo"},null,-1),b=Object(c["createVNode"])("span",{class:"fw-bold ms-2"},"Cafe Beat",-1),u={class:"\n          cart\n          me-2\n          text-decoration-none\n          d-line-block d-lg-none\n        ","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight","aria-controls":"offcanvasRight"},p=Object(c["createVNode"])("span",{class:"material-icons align-middle fs-2"}," shopping_cart ",-1),f={class:"\n            fs-7\n            badge\n            text-white\n            bg-primary\n            rounded-circle\n            border border-primary\n            shadow\n          "},g=Object(c["createVNode"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(c["createVNode"])("span",{class:"navbar-toggler-icon"})],-1),v={class:"collapse navbar-collapse justify-content-end",id:"navbarNav"},h={class:"list d-lg-flex align-items-center my-3 my-lg-0"},j={class:"mb-3 mb-lg-0"},O=Object(c["createVNode"])("span",{class:"material-icons align-middle me-2"}," list ",-1),m=Object(c["createTextVNode"])("產品列表"),N={class:"\n          cart\n          me-2\n          text-decoration-none\n          d-none d-lg-block\n        ","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight","aria-controls":"offcanvasRight"},y=Object(c["createVNode"])("span",{class:"material-icons align-middle me-2 fs-2"}," shopping_cart ",-1),V={class:"\n            fs-6\n            badge\n            text-white\n            bg-primary\n            rounded-circle\n            border border-primary\n            shadow\n          "},x={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasRight","aria-labelledby":"offcanvasRightLabel"},k=Object(c["createVNode"])("div",{class:"offcanvas-header bg-primary align-items-baseline"},[Object(c["createVNode"])("h4",{id:"offcanvasRightLabel",class:"text-white"},"您的購物車"),Object(c["createVNode"])("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),C={class:"offcanvas-body position-relative pb-5"},w=Object(c["createTextVNode"])(" 前往結帳 ");function B(t,e,a,o,n,r){var B=Object(c["resolveComponent"])("router-link"),_=Object(c["resolveComponent"])("Cart");return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[Object(c["createVNode"])("nav",s,[Object(c["createVNode"])("div",i,[Object(c["createVNode"])("div",d,[Object(c["createVNode"])(B,{class:"navbar-brand font",to:"/"},{default:Object(c["withCtx"])((function(){return[l,b]})),_:1})]),Object(c["createVNode"])("a",u,[p,Object(c["createVNode"])("span",f,Object(c["toDisplayString"])(n.carts.carts.length),1)]),g,Object(c["createVNode"])("div",v,[Object(c["createVNode"])("ul",h,[Object(c["createVNode"])("li",j,[Object(c["createVNode"])(B,{to:"/products",class:"\n                btn btn-outline-primary\n                text-decoration-none\n                rounded-pill\n                d-block d-lg-inline-block\n              "},{default:Object(c["withCtx"])((function(){return[O,m]})),_:1})]),Object(c["createVNode"])("li",null,[Object(c["createVNode"])("a",N,[y,Object(c["createVNode"])("span",V,Object(c["toDisplayString"])(n.carts.carts.length),1)])])])])])]),Object(c["createVNode"])("div",x,[k,Object(c["createVNode"])("div",C,[Object(c["createVNode"])(_)]),0!==n.carts.carts.length?(Object(c["openBlock"])(),Object(c["createBlock"])(B,{key:0,to:"/carts","data-bs-dismiss":"offcanvas",class:"btn btn-dark position-absolute text-white rounded-0\n    bottom-0 w-100 py-3 text-center text-decoration-none"},{default:Object(c["withCtx"])((function(){return[w]})),_:1})):Object(c["createCommentVNode"])("",!0)])],64)}a("99af");var _=Object(c["withScopeId"])("data-v-00f3b688");Object(c["pushScopeId"])("data-v-00f3b688");var L={key:0,class:"pt-5"},S=Object(c["createVNode"])("h2",{class:"text-danger fw-bold text-center"},"您目前還沒選購 :(",-1),T=Object(c["createTextVNode"])(" 前往購物 "),$=Object(c["createVNode"])("span",{class:"align-middle material-icons-outlined"}," trending_flat ",-1),A={class:"d-flex"},R={class:"d-flex flex-column justify-content-between ms-auto"},D={class:"d-flex justify-content-end align-items-center"},F={class:"mb-0"},I=Object(c["createVNode"])("span",{class:"material-icons-outlined"}," remove ",-1);Object(c["popScopeId"])();var q=_((function(t,e,a,o,n,r){var s=Object(c["resolveComponent"])("router-link");return 0===n.carts.carts.length?(Object(c["openBlock"])(),Object(c["createBlock"])("div",L,[S,Object(c["createVNode"])(s,{to:"/products","data-bs-dismiss":"offcanvas",class:"btn btn-dark d-block mt-3"},{default:_((function(){return[T,$]})),_:1})])):(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],{key:1},Object(c["renderList"])(n.carts.carts,(function(t){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:"card-wrap py-2 p-md-3",key:t.id},[Object(c["createVNode"])("div",A,[Object(c["createVNode"])("div",null,[Object(c["createVNode"])("img",{src:t.product.imageUrl,title:t.product.title,alt:"product Image"},null,8,["src","title"])]),Object(c["createVNode"])("div",R,[Object(c["createVNode"])("div",null,[Object(c["createVNode"])("h5",null,Object(c["toDisplayString"])(t.product.title),1)]),Object(c["createVNode"])("div",D,[Object(c["createVNode"])("p",F,Object(c["toDisplayString"])(t.qty)+" x NT$ "+Object(c["toDisplayString"])(t.product.price),1),Object(c["createVNode"])("button",{type:"button",class:["btn btn-sm btn-outline-danger ms-3",{disabled:n.icon.isLoading===t.id}],onClick:Object(c["withModifiers"])((function(e){return r.removeCarts(t.id)}),["prevent"])},[I],10,["onClick"])])])])])})),128))})),E=a("e4f3"),J={data:function(){return{carts:{carts:[]},icon:{isLoading:""}}},methods:{getCarts:function(){var t=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("youting","/cart")).then((function(e){e.data.success?(console.log(e),t.carts=e.data.data):console.log(e)})).catch((function(t){console.log(t)}))},updateCart:function(t,e){var a=this;this.icon.isLoading=t.id;var c={product_id:t.product_id,qty:e};this.$http.put("".concat("https://vue3-course-api.hexschool.io","/api/").concat("youting","/cart/").concat(t.id),{data:c}).then((function(t){t.data.success?(console.log(t.data.message),a.getCarts(),a.icon.isLoading="",E["a"].emit("push-message",t.data)):(E["a"].emit("push-message",t.data),console.log(t.data.message))})).catch((function(t){console.log(t)}))},removeCarts:function(t){var e=this;this.icon.isLoading=t,this.$http.delete("".concat("https://vue3-course-api.hexschool.io","/api/").concat("youting","/cart/").concat(t)).then((function(t){t.data.success?(e.icon.isLoading="",E["a"].emit("push-message",t.data),E["a"].emit("update-cart"),e.getCarts()):console.log(t.data.message)})).catch((function(t){console.log(t)}))},removeAllCarts:function(){var t=this;this.$http.delete("".concat("https://vue3-course-api.hexschool.io","/api/").concat("youting","/carts")).then((function(e){e.data.success?(console.log(e.data.message),t.$router.push("/products")):console.log(e.data.message)})).catch((function(t){console.log(t)}))},goToProduct:function(t){this.$router.push("/product/".concat(t.id))}},created:function(){var t=this;this.getCarts(),E["a"].on("update-cart",(function(){t.getCarts()}))}};a("5e9b");J.render=q,J.__scopeId="data-v-00f3b688";var M=J,P={components:{Cart:M},data:function(){return{carts:{carts:[]}}},methods:{getCarts:function(){var t=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("youting","/cart")).then((function(e){e.data.success?t.carts=e.data.data:console.log(e)})).catch((function(t){console.log(t)}))}},mounted:function(){var t=this;this.getCarts(),E["a"].on("update-cart",(function(){t.getCarts()}))}};P.render=B;var U=P,z={class:"bg-dark py-5 text-center text-light"},G=Object(c["createVNode"])("p",null,"design by youting",-1),H=Object(c["createVNode"])("p",{class:"mb-0"},"此作品為練習使用，無商業行為",-1);function K(t,e){return Object(c["openBlock"])(),Object(c["createBlock"])("footer",z,[G,H])}const Q={};Q.render=K;var W=Q,X={components:{Navbar:U,Footer:W}};a("3cc5");X.render=o;e["default"]=X},e8b5:function(t,e,a){var c=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==c(t)}}}]);
//# sourceMappingURL=chunk-660d75af.5de759c2.js.map