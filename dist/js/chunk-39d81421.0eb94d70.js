(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39d81421"],{"1ae4":function(t,e,a){t.exports=a.p+"img/logo.d4612499.svg"},"1dde":function(t,e,a){var c=a("d039"),n=a("b622"),o=a("2d00"),r=n("species");t.exports=function(t){return o>=51||!c((function(){var e=[],a=e.constructor={};return a[r]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"3b42":function(t,e,a){},"46f5":function(t,e,a){},5182:function(t,e,a){"use strict";a("46f5")},"65f0":function(t,e,a){var c=a("861d"),n=a("e8b5"),o=a("b622"),r=o("species");t.exports=function(t,e){var a;return n(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!n(a.prototype)?c(a)&&(a=a[r],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},8418:function(t,e,a){"use strict";var c=a("c04e"),n=a("9bf2"),o=a("5c6c");t.exports=function(t,e,a){var r=c(e);r in t?n.f(t,r,o(0,a)):t[r]=a}},9257:function(t,e,a){"use strict";a("3b42")},"99af":function(t,e,a){"use strict";var c=a("23e7"),n=a("d039"),o=a("e8b5"),r=a("861d"),s=a("7b0b"),i=a("50c4"),d=a("8418"),l=a("65f0"),b=a("1dde"),u=a("b622"),p=a("2d00"),f=u("isConcatSpreadable"),g=9007199254740991,h="Maximum allowed index exceeded",m=p>=51||!n((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),v=b("concat"),j=function(t){if(!r(t))return!1;var e=t[f];return void 0!==e?!!e:o(t)},O=!m||!v;c({target:"Array",proto:!0,forced:O},{concat:function(t){var e,a,c,n,o,r=s(this),b=l(r,0),u=0;for(e=-1,c=arguments.length;e<c;e++)if(o=-1===e?r:arguments[e],j(o)){if(n=i(o.length),u+n>g)throw TypeError(h);for(a=0;a<n;a++,u++)a in o&&d(b,u,o[a])}else{if(u>=g)throw TypeError(h);d(b,u++,o)}return b.length=u,b}})},bb51:function(t,e,a){"use strict";a.r(e);var c=a("7a23");function n(t,e,a,n,o,r){var s=Object(c["resolveComponent"])("Navbar"),i=Object(c["resolveComponent"])("router-view"),d=Object(c["resolveComponent"])("Footer");return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[Object(c["createVNode"])(s),Object(c["createVNode"])(i),Object(c["createVNode"])(d)],64)}var o=a("1ae4"),r=a.n(o),s={class:"\n      navbar navbar-expand-lg\n      sticky-top\n      navbar-light\n      bg-light\n      py-3\n      shadow-lg\n    "},i={class:"container"},d={class:"me-auto"},l=Object(c["createVNode"])("img",{class:"logo",src:r.a,alt:"logo"},null,-1),b=Object(c["createVNode"])("span",{class:"fw-bold ms-2"},"Cafe Beat",-1),u={class:"cart me-2 text-decoration-none d-line-block d-lg-none","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight","aria-controls":"offcanvasRight"},p=Object(c["createVNode"])("span",{class:"material-icons align-middle fs-2"}," shopping_cart ",-1),f={class:"\n            fs-7\n            badge\n            text-white\n            bg-primary\n            rounded-circle\n            border border-primary\n            shadow\n          "},g=Object(c["createVNode"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(c["createVNode"])("span",{class:"navbar-toggler-icon"})],-1),h={class:"collapse navbar-collapse justify-content-end",id:"navbarNav"},m={class:"list d-lg-flex align-items-center my-3 my-lg-0"},v={class:"mb-3 me-lg-3 mb-lg-0"},j=Object(c["createVNode"])("span",{class:"material-icons align-middle me-2"}," list ",-1),O=Object(c["createTextVNode"])("產品列表"),N={class:"mb-3 mb-lg-0"},V=Object(c["createVNode"])("span",{class:"material-icons align-middle me-2"}," face ",-1),y=Object(c["createTextVNode"])("關於我們"),x={class:"cart me-2 text-decoration-none d-none d-lg-block","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight","aria-controls":"offcanvasRight"},k=Object(c["createVNode"])("span",{class:"material-icons align-middle me-2 fs-2"}," shopping_cart ",-1),w={class:"\n                  fs-6\n                  badge\n                  text-white\n                  bg-primary\n                  rounded-circle\n                  border border-primary\n                  shadow\n                "},C={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasRight","aria-labelledby":"offcanvasRightLabel"},B=Object(c["createVNode"])("div",{class:"offcanvas-header bg-primary align-items-baseline"},[Object(c["createVNode"])("h4",{id:"offcanvasRightLabel",class:"text-white mb-0 d-flex align-items-center"},[Object(c["createVNode"])("span",{class:"px-2 material-icons-outlined fs-4"}," shopping_bag "),Object(c["createTextVNode"])(" 您的購物車 ")]),Object(c["createVNode"])("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),_={class:"offcanvas-body position-relative pb-5"},T=Object(c["createVNode"])("span",{class:"align-middle material-icons-outlined fs-5"}," paid ",-1),L=Object(c["createTextVNode"])(" 前往結帳 ");function S(t,e,a,n,o,r){var S=Object(c["resolveComponent"])("router-link"),$=Object(c["resolveComponent"])("Cart");return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[Object(c["createVNode"])("nav",s,[Object(c["createVNode"])("div",i,[Object(c["createVNode"])("div",d,[Object(c["createVNode"])(S,{class:"navbar-brand font",to:"/"},{default:Object(c["withCtx"])((function(){return[l,b]})),_:1})]),Object(c["createVNode"])("a",u,[p,Object(c["createVNode"])("span",f,Object(c["toDisplayString"])(o.carts.carts.length),1)]),g,Object(c["createVNode"])("div",h,[Object(c["createVNode"])("ul",m,[Object(c["createVNode"])("li",v,[Object(c["createVNode"])(S,{to:"/products",class:"\n                btn btn-outline-primary\n                text-decoration-none\n                rounded-pill\n                d-block d-lg-inline-block\n              "},{default:Object(c["withCtx"])((function(){return[j,O]})),_:1})]),Object(c["createVNode"])("li",N,[Object(c["createVNode"])(S,{to:"/about",class:"\n                btn btn-outline-primary\n                text-decoration-none\n                rounded-pill\n                d-block d-lg-inline-block\n              "},{default:Object(c["withCtx"])((function(){return[V,y]})),_:1})]),Object(c["createVNode"])("li",null,[Object(c["createVNode"])("a",x,[k,Object(c["createVNode"])("span",w,Object(c["toDisplayString"])(o.carts.carts.length),1)])])])])])]),Object(c["createVNode"])("div",C,[B,Object(c["createVNode"])("div",_,[Object(c["createVNode"])($)]),0!==o.carts.carts.length?(Object(c["openBlock"])(),Object(c["createBlock"])(S,{key:0,to:"/carts","data-bs-dismiss":"offcanvas",class:"\n        btn btn-dark\n        position-absolute\n        text-white\n        rounded-0\n        bottom-0\n        w-100\n        py-3\n        text-center text-decoration-none\n      "},{default:Object(c["withCtx"])((function(){return[T,L]})),_:1})):Object(c["createCommentVNode"])("",!0)])],64)}a("99af");var $=Object(c["withScopeId"])("data-v-68d5b10d");Object(c["pushScopeId"])("data-v-68d5b10d");var A={key:0,class:"pt-5"},R=Object(c["createVNode"])("h2",{class:"text-danger fw-bold text-center"},"您目前還沒選購 :(",-1),D=Object(c["createTextVNode"])(" 前往購物 "),F=Object(c["createVNode"])("span",{class:"align-middle material-icons-outlined"}," trending_flat ",-1),I={class:"d-flex"},q={class:"d-flex flex-column justify-content-between ms-auto"},E={class:"d-flex justify-content-end align-items-center"},J={class:"mb-0"},M={key:0,class:"spinner-border spinner-border-sm"},P={key:1,class:"align-middle material-icons-outlined"};Object(c["popScopeId"])();var U=$((function(t,e,a,n,o,r){var s=Object(c["resolveComponent"])("router-link");return 0===o.carts.carts.length?(Object(c["openBlock"])(),Object(c["createBlock"])("div",A,[R,Object(c["createVNode"])(s,{to:"/products","data-bs-dismiss":"offcanvas",class:"btn btn-dark d-block mt-3"},{default:$((function(){return[D,F]})),_:1})])):(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],{key:1},Object(c["renderList"])(o.carts.carts,(function(t){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:"card-wrap py-2 p-md-3",key:t.id},[Object(c["createVNode"])("div",I,[Object(c["createVNode"])("div",null,[Object(c["createVNode"])("img",{src:t.product.imageUrl,title:t.product.title,alt:"product Image"},null,8,["src","title"])]),Object(c["createVNode"])("div",q,[Object(c["createVNode"])("div",null,[Object(c["createVNode"])("h5",null,Object(c["toDisplayString"])(t.product.title),1)]),Object(c["createVNode"])("div",E,[Object(c["createVNode"])("p",J,Object(c["toDisplayString"])(t.qty)+" x NT$ "+Object(c["toDisplayString"])(t.product.price),1),Object(c["createVNode"])("button",{type:"button",class:["btn btn-sm btn-outline-danger ms-3",{disabled:o.icon.isLoading===t.id}],onClick:Object(c["withModifiers"])((function(e){return r.removeCarts(t.id)}),["prevent"])},[o.icon.isLoading===t.id?(Object(c["openBlock"])(),Object(c["createBlock"])("span",M)):(Object(c["openBlock"])(),Object(c["createBlock"])("span",P," delete "))],10,["onClick"])])])])])})),128))})),Y={inject:["emitter"],data:function(){return{carts:{carts:[]},icon:{isLoading:""}}},methods:{getCarts:function(){var t=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("youting","/cart")).then((function(e){e.data.success?t.carts=e.data.data:t.emitter.emit("push-message",e.data)})).catch((function(t){console.log(t)}))},updateCart:function(t,e){var a=this;this.icon.isLoading=t.id;var c={product_id:t.product_id,qty:e};this.$http.put("".concat("https://vue3-course-api.hexschool.io","/api/").concat("youting","/cart/").concat(t.id),{data:c}).then((function(t){t.data.success?(a.getCarts(),a.icon.isLoading="",a.emitter.emit("push-message",t.data)):a.emitter.emit("push-message",t.data)})).catch((function(t){console.log(t)}))},removeCarts:function(t){var e=this;this.icon.isLoading=t,this.$http.delete("".concat("https://vue3-course-api.hexschool.io","/api/").concat("youting","/cart/").concat(t)).then((function(t){t.data.success?(e.emitter.emit("push-message",t.data),e.emitter.emit("update-cart"),e.getCarts(),e.icon.isLoading=""):e.emitter.emit("push-message",t.data)})).catch((function(t){console.log(t)}))},removeAllCarts:function(){var t=this;this.$http.delete("".concat("https://vue3-course-api.hexschool.io","/api/").concat("youting","/carts")).then((function(e){e.data.success?t.$router.push("/products"):t.emitter.emit("push-message",e.data)})).catch((function(t){console.log(t)}))},goToProduct:function(t){this.$router.push("/product/".concat(t.id))}},created:function(){var t=this;this.getCarts(),this.emitter.on("update-cart",(function(){t.getCarts()}))}};a("9257");Y.render=U,Y.__scopeId="data-v-68d5b10d";var z=Y,G=a("e4f3"),H={components:{Cart:z},data:function(){return{carts:{carts:[]}}},methods:{getCarts:function(){var t=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("youting","/cart")).then((function(e){e.data.success?t.carts=e.data.data:console.log(e)})).catch((function(t){console.log(t)}))}},mounted:function(){var t=this;this.getCarts(),G["a"].on("update-cart",(function(){t.getCarts()}))}};H.render=S;var K=H,Q={class:"py-5 text-center bg-dark text-white"},W=Object(c["createVNode"])("p",null,"Copyright © 2021 Youting.",-1),X=Object(c["createVNode"])("p",{class:"mb-0"},[Object(c["createTextVNode"])(" 此作品為練習使用，無商業行為 "),Object(c["createVNode"])("a",{target:"_blank",href:"https://github.com/youtingluo/"},[Object(c["createVNode"])("img",{width:"40",src:"https://img.icons8.com/plasticine/2x/github.png",alt:"github"})])],-1);function Z(t,e){return Object(c["openBlock"])(),Object(c["createBlock"])("footer",Q,[W,X])}const tt={};tt.render=Z;var et=tt,at={components:{Navbar:K,Footer:et}};a("5182");at.render=n;e["default"]=at},e8b5:function(t,e,a){var c=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==c(t)}}}]);
//# sourceMappingURL=chunk-39d81421.0eb94d70.js.map