(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-649338e0"],{"1dde":function(e,t,c){var a=c("d039"),o=c("b622"),n=c("2d00"),r=o("species");e.exports=function(e){return n>=51||!a((function(){var t=[],c=t.constructor={};return c[r]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"65f0":function(e,t,c){var a=c("861d"),o=c("e8b5"),n=c("b622"),r=n("species");e.exports=function(e,t){var c;return o(e)&&(c=e.constructor,"function"!=typeof c||c!==Array&&!o(c.prototype)?a(c)&&(c=c[r],null===c&&(c=void 0)):c=void 0),new(void 0===c?Array:c)(0===t?0:t)}},8418:function(e,t,c){"use strict";var a=c("c04e"),o=c("9bf2"),n=c("5c6c");e.exports=function(e,t,c){var r=a(t);r in e?o.f(e,r,n(0,c)):e[r]=c}},"99af":function(e,t,c){"use strict";var a=c("23e7"),o=c("d039"),n=c("e8b5"),r=c("861d"),i=c("7b0b"),s=c("50c4"),d=c("8418"),l=c("65f0"),b=c("1dde"),u=c("b622"),p=c("2d00"),j=u("isConcatSpreadable"),O=9007199254740991,f="Maximum allowed index exceeded",g=p>=51||!o((function(){var e=[];return e[j]=!1,e.concat()[0]!==e})),h=b("concat"),y=function(e){if(!r(e))return!1;var t=e[j];return void 0!==t?!!t:n(e)},v=!g||!h;a({target:"Array",proto:!0,forced:v},{concat:function(e){var t,c,a,o,n,r=i(this),b=l(r,0),u=0;for(t=-1,a=arguments.length;t<a;t++)if(n=-1===t?r:arguments[t],y(n)){if(o=s(n.length),u+o>O)throw TypeError(f);for(c=0;c<o;c++,u++)c in n&&d(b,u,n[c])}else{if(u>=O)throw TypeError(f);d(b,u++,n)}return b.length=u,b}})},b789:function(e,t,c){"use strict";c.r(t);var a=c("7a23"),o=Object(a["createVNode"])("div",{class:"banner d-flex align-items-center justify-content-center"},[Object(a["createVNode"])("h2",{class:"\n        text-white\n        fw-bold\n        bg-primary\n        border-bottom border-3\n        d-inline-block\n        py-3\n        px-5\n      "}," 您的購物車 ")],-1),n={class:"py-5"},r={class:"container"},i={class:"row"},s={class:"col-lg-8"},d={class:"table text-primary position-relative"},l=Object(a["createVNode"])("thead",{class:"text-dark bg-secondary border-0"},[Object(a["createVNode"])("tr",null,[Object(a["createVNode"])("th",null,"品項"),Object(a["createVNode"])("th",{class:"d-none d-lg-table-cell"},"商品圖"),Object(a["createVNode"])("th",null,"單價"),Object(a["createVNode"])("th",{class:"d-none d-lg-table-cell"},"數量"),Object(a["createVNode"])("th",{class:"d-none d-lg-table-cell"},"金額"),Object(a["createVNode"])("th",null,"移除")])],-1),b={class:"js-cartItem"},u={class:"fw-bold"},p={class:"wrap"},j={class:"d-none d-lg-table-cell"},O={class:"wrap"},f={class:"input-group d-lg-none"},g={key:0,class:"spinner-border spinner-border-sm"},h={key:1},y={key:0,class:"spinner-border spinner-border-sm"},v={key:1},m={class:"d-none d-lg-table-cell"},k={class:"input-group"},N={key:0,class:"spinner-border spinner-border-sm"},V={key:1},x={key:0,class:"spinner-border spinner-border-sm"},B={key:1},C={class:"d-none d-lg-table-cell"},w={key:0,class:"spinner-border spinner-border-sm"},U={key:1,class:"align-base"},q={class:"text-end fw-bold text-secondary fs-5"},L={class:"d-flex justify-content-between my-3"},D={class:"col-lg-4"},$=Object(a["createVNode"])("div",{class:"text-center p-3 text-white bg-secondary"},[Object(a["createVNode"])("h4",{class:"fw-bold"},"訂單列表")],-1),S={class:"col"},T={class:"ps-3"},A={class:"col"},_={class:"text-end"},M={class:"col"},R={class:"text-end pe-3"},F={class:"text-end p-3 bg-secondary text-dark"},E={class:"fw-bold"};function J(e,t,c,J,z,I){var G=Object(a["resolveComponent"])("Loading");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[o,Object(a["createVNode"])("section",n,[Object(a["createVNode"])("div",r,[Object(a["createVNode"])("div",i,[Object(a["createVNode"])("div",s,[Object(a["createVNode"])("table",d,[Object(a["createVNode"])(G,{active:z.isLoading,"z-index":1060,loader:"bars",color:"#84543B","is-full-page":!1},null,8,["active"]),l,Object(a["createVNode"])("tbody",b,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(z.carts.carts,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])("tr",{key:e.id},[Object(a["createVNode"])("td",null,[Object(a["createVNode"])("p",u,Object(a["toDisplayString"])(e.product.title),1),Object(a["createVNode"])("div",p,[Object(a["createVNode"])("img",{class:"d-lg-none",src:e.product.imageUrl,alt:"product"},null,8,["src"])])]),Object(a["createVNode"])("td",j,[Object(a["createVNode"])("div",O,[Object(a["createVNode"])("img",{src:e.product.imageUrl,alt:"product"},null,8,["src"])])]),Object(a["createVNode"])("td",null,[Object(a["createVNode"])("p",null,"NT$ "+Object(a["toDisplayString"])(e.product.price),1),Object(a["createVNode"])("div",f,[Object(a["createVNode"])("div",{class:["btn btn-outline-primary",{disabled:e.id===z.icon.isUpdate}],onClick:function(t){return I.updateCart(e,e.qty-1)}},[z.icon.isUpdate===e.id?(Object(a["openBlock"])(),Object(a["createBlock"])("span",g)):(Object(a["openBlock"])(),Object(a["createBlock"])("span",h,"-"))],10,["onClick"]),Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"number",class:["form-control text-center",{disabled:e.id===z.icon.isUpdate}],"aria-label":"number","onUpdate:modelValue":function(t){return e.qty=t},onChange:function(t){return I.updateCart(e,e.qty)}},null,42,["onUpdate:modelValue","onChange"]),[[a["vModelText"],e.qty,void 0,{number:!0}]]),Object(a["createVNode"])("div",{class:["btn btn-outline-primary",{disabled:e.id===z.icon.isUpdate}],onClick:function(t){return I.updateCart(e,e.qty+1)}},[z.icon.isUpdate===e.id?(Object(a["openBlock"])(),Object(a["createBlock"])("span",y)):(Object(a["openBlock"])(),Object(a["createBlock"])("span",v,"+"))],10,["onClick"])])]),Object(a["createVNode"])("td",m,[Object(a["createVNode"])("div",k,[Object(a["createVNode"])("div",{class:["btn btn-outline-primary",{disabled:e.id===z.icon.isUpdate}],onClick:function(t){return I.updateCart(e,e.qty-1)}},[z.icon.isUpdate===e.id?(Object(a["openBlock"])(),Object(a["createBlock"])("span",N)):(Object(a["openBlock"])(),Object(a["createBlock"])("span",V,"-"))],10,["onClick"]),Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"number",class:["form-control text-center",{disabled:e.id===z.icon.isUpdate}],"aria-label":"number","onUpdate:modelValue":function(t){return e.qty=t},onChange:function(t){return I.updateCart(e,e.qty)}},null,42,["onUpdate:modelValue","onChange"]),[[a["vModelText"],e.qty,void 0,{number:!0}]]),Object(a["createVNode"])("div",{class:["btn btn-outline-primary",{disabled:e.id===z.icon.isUpdate}],onClick:function(t){return I.updateCart(e,e.qty+1)}},[z.icon.isUpdate===e.id?(Object(a["openBlock"])(),Object(a["createBlock"])("span",x)):(Object(a["openBlock"])(),Object(a["createBlock"])("span",B,"+"))],10,["onClick"])])]),Object(a["createVNode"])("td",C,"NT$ "+Object(a["toDisplayString"])(e.total),1),Object(a["createVNode"])("td",null,[Object(a["createVNode"])("a",{onClick:Object(a["withModifiers"])((function(t){return I.removeCarts(e.id)}),["prevent"]),class:["\n                      btn btn-outline-danger\n                      material-icons-outlined\n                      text-decoration-none\n                    ",{disabled:z.icon.isLoading===e.id}]},[z.icon.isRemove===e.id?(Object(a["openBlock"])(),Object(a["createBlock"])("span",w)):(Object(a["openBlock"])(),Object(a["createBlock"])("span",U,"delete_outline"))],10,["onClick"])])])})),128))])]),Object(a["createVNode"])("div",q," 總價："+Object(a["toDisplayString"])(z.carts.final_total),1),Object(a["createVNode"])("div",L,[Object(a["createVNode"])("div",{class:"btn btn-outline-primary",onClick:t[1]||(t[1]=function(t){return e.$router.push("/products")})},"↼ 繼續購物"),Object(a["createVNode"])("div",{class:"btn btn-primary",onClick:t[2]||(t[2]=function(){return I.goNext&&I.goNext.apply(I,arguments)})},"下一步 ⇀")])]),Object(a["createVNode"])("div",D,[$,(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(z.carts.carts,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])("div",{class:"row g-0 justify-content-between py-3 bg-primary text-white text-nowrap",key:e.id},[Object(a["createVNode"])("div",S,[Object(a["createVNode"])("div",T,Object(a["toDisplayString"])(e.product.title),1)]),Object(a["createVNode"])("div",A,[Object(a["createVNode"])("div",_," x "+Object(a["toDisplayString"])(e.qty)+" "+Object(a["toDisplayString"])(e.product.unit),1)]),Object(a["createVNode"])("div",M,[Object(a["createVNode"])("div",R,"NT$ "+Object(a["toDisplayString"])(e.total),1)])])})),128)),Object(a["createVNode"])("div",F,[Object(a["createVNode"])("h4",E,"總價：NT$ "+Object(a["toDisplayString"])(z.carts.final_total),1)])])])])])],64)}c("99af");var z=c("e4f3"),I={data:function(){return{carts:{carts:[]},quantity:1,icon:{isUpdate:"",isRemove:""},isLoading:!1}},methods:{getCarts:function(){var e=this;this.isLoading=!0,this.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("youting","/cart")).then((function(t){t.data.success?(e.isLoading=!1,e.carts=t.data.data):(e.isLoading=!1,z["a"].emit("push-message",t.data))})).catch((function(e){console.log(e)}))},updateCart:function(e,t){var c=this;this.isLoading=!0,this.icon.isUpdate=e.id;var a={product_id:e.product_id,qty:t};this.$http.put("".concat("https://vue3-course-api.hexschool.io","/api/").concat("youting","/cart/").concat(e.id),{data:a}).then((function(e){e.data.success?(c.isLoading=!1,c.getCarts(),c.icon.isUpdate="",z["a"].emit("push-message",e.data),z["a"].emit("update-cart")):(c.isLoading=!1,z["a"].emit("push-message",e.data))})).catch((function(e){console.log(e)}))},removeCarts:function(e){var t=this;this.icon.isRemove=e,this.$http.delete("".concat("https://vue3-course-api.hexschool.io","/api/").concat("youting","/cart/").concat(e)).then((function(e){e.data.success?(t.icon.isRemove="",t.getCarts(),z["a"].emit("push-message",e.data),z["a"].emit("update-cart")):z["a"].emit("push-message",e.data)})).catch((function(e){console.log(e)}))},removeAllCarts:function(){var e=this;this.$http.delete("".concat("https://vue3-course-api.hexschool.io","/api/").concat("youting","/carts")).then((function(t){t.data.success?(e.$router.push("/products"),z["a"].emit("push-message",t.data)):z["a"].emit("push-message",t.data)})).catch((function(e){console.log(e)}))},goNext:function(){z["a"].emit("update-cart"),this.$router.push("/order")}},created:function(){this.getCarts()}};I.render=J;t["default"]=I},e8b5:function(e,t,c){var a=c("c6b6");e.exports=Array.isArray||function(e){return"Array"==a(e)}}}]);
//# sourceMappingURL=chunk-649338e0.a0f751cb.js.map